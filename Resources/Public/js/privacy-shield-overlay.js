var s={getConsentFromStore(){if(!window.sessionStorage)return{};var t=JSON.parse(sessionStorage.getItem("privacy-shield-consent"));return t===null&&(t={}),t},putConsentIntoStore(t){window.sessionStorage&&sessionStorage.setItem("privacy-shield-consent",JSON.stringify(t))},storeConsent(t,e,r){var n;let i=this.getConsentFromStore();i[t]=(n=i[t])!=null?n:{},i[t][e]=r,this.putConsentIntoStore(i)},revokeConsentPrivacyShield(t,e){this.storeConsent(t,e,!1)},consentPrivacyShield(t,e="privacyShield"){this.replacePreviewWithOriginalContent(t),this.storeConsent(t,e,!0)},replacePreviewWithOriginalContent(t){document.querySelectorAll('.privacy-shield[data-type="'+t+'"]').forEach(e=>{let r=e.querySelectorAll(".original-content")[0].innerText;var i=document.createElement("div");i.innerHTML=atob(r.trim()).trim();var n=i.firstChild;e.parentNode.replaceChild(n,e)}),document.querySelectorAll('script[type="text/plain"][data-privacy-shield-type="'+t+'"]').forEach(e=>{let r=e.cloneNode();r.type="application/javascript",e.parentNode.replaceChild(r,e)})},removeLoading(t){document.querySelectorAll('.privacy-shield.is-loading[data-type="'+t+'"]').forEach(e=>{e.classList.remove("is-loading"),e.classList.add("is-loaded")})},allowConsentedShieldTypes(){var t=this.getConsentFromStore();for(let[r,i]of Object.entries(t)){var e=!1;for(let[,n]of Object.entries(i))e===!1&&n===!0&&(e=!0,this.replacePreviewWithOriginalContent(r));this.removeLoading(r)}}},o=s;document.addEventListener("DOMContentLoaded",t=>{o.allowConsentedShieldTypes(),document.querySelectorAll(".consent-privacy-shield").forEach(e=>{e.addEventListener("click",r=>{var i=r.target.closest(".privacy-shield").getAttribute("data-type");o.consentPrivacyShield(i)})})});function l(){document.querySelectorAll(".privacy-shield").forEach(function(t){let e=t.querySelector(".privacy-banner"),r=t.querySelector(".preview-content picture");e&&r&&(e.offsetHeight<=r.offsetHeight?e.classList.add("is-overlay"):e.classList.remove("is-overlay"))})}var a=l;document.addEventListener("DOMContentLoaded",function(){a(),window.addEventListener("resize",a)});window.PrivacyShield=o;
